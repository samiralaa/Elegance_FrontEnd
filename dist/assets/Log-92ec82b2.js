import{_ as f,x as r,D as h,r as s,V as L,o as c,c as v,a as d,t as $,e as a,m as i,b as p,W as w,w as k,i as y}from"./index-01aaf835.js";const D={class:"logs-container"},B={class:"header"},E="http://elegance_backend.test",I={__name:"Log",setup(A){const n=r([]),l=r(!1),_=`${E}/api/logs`,u=async()=>{l.value=!0;try{const e=JSON.parse(localStorage.getItem("tokenData"));if(!e||!e.token)throw new Error("Authentication token not found");p.defaults.headers.common.Authorization=`Bearer ${e.token}`;const t=await p.get(_);if(t.data.status==="success"||t.data.status===!0)n.value=t.data.data;else throw new Error(t.data.message||"Failed to fetch logs")}catch(e){console.error("Log Fetch Error:",e),w.error(e.message||"Error fetching logs")}finally{l.value=!1}};return h(()=>{u()}),(e,t)=>{const o=s("el-table-column"),g=s("el-table"),b=s("el-card"),m=L("loading");return c(),v("div",D,[d("div",B,[d("h2",null,$(e.$t("Logs.Logs")),1)]),a(b,{class:"logs-table"},{default:i(()=>[k((c(),y(g,{data:n.value,style:{width:"100%"}},{default:i(()=>[a(o,{prop:"user.name",label:e.$t("Logs.User")},null,8,["label"]),a(o,{prop:"operation",label:e.$t("Logs.Operation")},null,8,["label"]),a(o,{prop:"model_type",label:e.$t("Logs.Model")},null,8,["label"]),a(o,{prop:"model_id",label:e.$t("Logs.ModelID")},null,8,["label"]),a(o,{prop:"description",label:e.$t("Logs.Description")},null,8,["label"]),a(o,{prop:"ip_address",label:e.$t("Logs.IPAddress")},null,8,["label"]),a(o,{prop:"user_agent",label:e.$t("Logs.BrowserInfo")},null,8,["label"]),a(o,{prop:"created_at",label:e.$t("Logs.Timestamp")},null,8,["label"])]),_:1},8,["data"])),[[m,l.value]])]),_:1})])}}},S=f(I,[["__scopeId","data-v-5b28f1ed"]]);export{S as default};
