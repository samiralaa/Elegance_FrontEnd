import{q as Y,s as Z,A as D,u as ee,_ as V,r as $,o as n,c as g,a as s,e as b,t as h,F as W,d as N,n as z,f as w,b as C,x as P,y as H,z as R,B as J,C as M,p as F,D as G,E as k,i as O,k as q,G as Q,l as se,H as te,I as oe,J as ae}from"./index-8fc7e8a4.js";import{$ as j}from"./slick-theme-f39f0158.js";const ie={name:"WebsiteCategories",computed:{...Y("websiteCategories",{categories:t=>t.items,loading:t=>t.loading,error:t=>t.error})},created(){this.loadCategories()},methods:{...Z("websiteCategories",{fetchCategories:"fetchWebsiteCategories"}),getProductImage(t){if(!t.image)return"/placeholder-image.jpg";const a=t.image,_=`${D}/public/storage/`;if(a.startsWith(_))return a;if(a.startsWith(D)){const f=a.substring(D.length);return`${_}${f.startsWith("/")?f.substring(1):f}`}return a.startsWith("http")?a:`${_}${a}`},async loadCategories(){try{await this.fetchCategories(),await ee();const t=j(this.$refs.slider);t.hasClass("slick-initialized")&&t.slick("unslick"),t.slick({slidesToShow:7,slidesToScroll:1,rtl:this.$i18n.locale==="ar",responsive:[{breakpoint:1200,settings:{slidesToShow:5}},{breakpoint:992,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:576,settings:{slidesToShow:2}},{breakpoint:400,settings:{slidesToShow:1}}]})}catch(t){console.error("Failed to load categories:",t)}},scrollLeft(){const t=j(this.$refs.slider);t.length&&t.hasClass("slick-initialized")&&t.slick("slickPrev")},scrollRight(){const t=j(this.$refs.slider);t.length&&t.hasClass("slick-initialized")&&t.slick("slickNext")},getAlt(t){return this.$i18n.locale==="ar"?t.name_ar:t.name}},beforeUnmount(){const t=j(this.$refs.slider);t.length&&t.hasClass("slick-initialized")&&t.slick("unslick")}},re={class:"all-categories py-4"},ne={class:"container"},ce={class:"title"},le={class:"slider-wrapper"},de={class:"scrollers ms-3 mb-2"},_e={class:"slider",ref:"slider"},ue=["href"],he={class:"category-content"},ge=["src"],fe={key:0,class:"loading-overlay"},ve={key:1,class:"error-message"};function me(t,a,_,f,c,m){const S=$("fa");return n(),g("section",re,[s("div",ne,[s("div",ce,[b(S,{class:"fa-icon",icon:["fas","cubes"]}),s("h2",null,h(t.$t("home.categories")),1)]),s("div",le,[s("div",de,[s("button",{class:"btn nav-button left",onClick:a[0]||(a[0]=(...u)=>m.scrollLeft&&m.scrollLeft(...u))},"←"),s("button",{class:"btn nav-button right",onClick:a[1]||(a[1]=(...u)=>m.scrollRight&&m.scrollRight(...u))},"→")]),s("div",_e,[(n(!0),g(W,null,N(t.categories,u=>(n(),g("a",{key:u.id,class:"card",href:`/category/${u.id}`},[s("div",he,[s("img",{src:m.getProductImage(u)},null,8,ge),s("p",{class:z({rtl:t.$i18n.locale==="ar"})},h(t.$i18n.locale==="ar"?u.name_ar:u.name),3)])],8,ue))),128))],512),t.loading?(n(),g("div",fe,a[2]||(a[2]=[s("div",{class:"loading-spinner"},null,-1)]))):w("",!0),t.error?(n(),g("div",ve,h(t.error),1)):w("",!0)])])])}const pe=V(ie,[["render",me],["__scopeId","data-v-9a4f0c77"]]);const be={name:"HomeBrands",data(){return{brands:[]}},created(){this.fetchBrands()},methods:{async fetchBrands(){try{const t=await C.get("http://elegance_backend.test/api/website/brands/section");this.brands=t.data.data}catch(t){console.error("Error fetching brands:",t)}},getImageUrl(t){return`http://elegance_backend.test/public/storage/${t}`},likeBrand(t){console.log(`Brand ${t} liked!`)}}},ye={class:"our-brands"},$e={class:"container"},we={class:"title mt-5"},ke={class:"content"},Se=["src","alt"],Ce={key:1,class:"text-muted small"};function Fe(t,a,_,f,c,m){const S=$("fa");return n(),g("section",ye,[s("div",$e,[s("div",we,[b(S,{class:"fa-icon",icon:["fas","diagram-project"]}),s("h2",null,h(t.$t("home.brands")),1)]),s("div",ke,[(n(!0),g(W,null,N(c.brands,u=>(n(),g("div",{key:u.id,class:"brand-img"},[u.images.length?(n(),g("img",{key:0,src:m.getImageUrl(u.images[0].path),alt:u.name_en,class:"img-fluid"},null,8,Se)):(n(),g("span",Ce,"No Image"))]))),128))])])])}const Pe=V(be,[["render",Fe],["__scopeId","data-v-047fa5dd"]]);const xe={class:"products-section"},Ie={class:"container"},Be={class:"title section-header d-flex align-items-center mb-4"},Oe={class:"mb-0"},Ve={key:0,class:"text-center my-4"},Le={key:1,class:"row g-3"},Te={class:"product-card card border-0 h-100"},Ee={class:"position-relative overflow-hidden bg-light"},Ue=["src","alt"],Ae={key:0,class:"sale-badge"},We={class:"product-actions d-flex justify-content-center gap-2 w-100"},ze=["onClick","disabled"],Ne=["onClick"],je=["onClick","title"],qe={class:"card-body"},De={class:"card-title"},He={class:"price-container"},Re={key:0,class:"discount-badge"},Je={key:1,class:"price-old"},Me={class:"card-text card-price"},Ge={__name:"ProductSection",setup(t){const a=P([]),_=P([]),f=P(!1),c=H(),m=R(),{locale:S,t:u}=J(),L=e=>`http://elegance_backend.test/public/storage/${e}`,x=async()=>{try{const e=await C.get("http://elegance_backend.test/api/currencies");e.data.currencies&&(_.value=e.data.currencies)}catch(e){console.error("Error fetching currencies:",e)}},T=async()=>{try{const e=JSON.parse(localStorage.getItem("selectedCurrency"))||{code:"USD"},d=await C.get("http://elegance_backend.test/api/website/products/section",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,Currency:e.code}});d.data.status&&(a.value=d.data.data,await I())}catch(e){console.error("Error fetching products:",e),k({title:"Error",message:"Failed to load products.",type:"error"})}finally{f.value=!1}},I=async()=>{try{const e=await C.get("http://elegance_backend.test/api/favorites",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});e.data.status&&e.data.data&&c.setFavorites(e.data.data)}catch(e){console.error("Error fetching favorites:",e)}},B=e=>c.favorites.some(d=>d.product_id===e),U=e=>{var d,o;return((d=c.favorites.find(p=>p.product_id===e))==null?void 0:d.favorite_id)||((o=c.favorites.find(p=>p.product_id===e))==null?void 0:o.id)},A=async e=>{var d,o;try{if(B(e.id)){const p=U(e.id);p&&(await c.removeFromFavorites(p),k({title:u("success"),message:u("favorite_removed")||"Product removed from favorites",type:"success"}))}else{const p=await c.addToFavorites(e.id);k({title:u("success"),message:p.message||u("favorite_added")||"Product added to favorites",type:"success"})}}catch(p){console.error("Favorite error:",p),k({title:u("error"),message:((o=(d=p.response)==null?void 0:d.data)==null?void 0:o.message)||u("login_required_favorite")||"Login required to favorite product",type:"error"})}},r=async e=>{var d,o;try{let p=0;if(e.discount&&e.discount.is_active){const E=parseFloat(e.discount.discount_value),v=parseFloat(e.converted_price||e.price);p=v-v*(E/100)}else p=parseFloat(e.converted_price)||parseFloat(e.price);const l=await C.post("http://elegance_backend.test/api/cart-items",{product_id:e.id,quantity:1,price:p},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});l.data.status?(k.success(l.data.message),m.incrementCount(),await m.fetchCartCount()):k.error(l.data.message)}catch(p){console.error("Error adding to cart:",p),k.error(((o=(d=p.response)==null?void 0:d.data)==null?void 0:o.message)||"Error adding product to cart")}},y=e=>{if(e.discount&&e.discount.is_active){const d=parseFloat(e.discount.discount_value),o=parseFloat(e.converted_price||e.price);return(o-o*(d/100)).toFixed(2)}return e.converted_price||e.price},i=e=>{if(e.discount&&e.discount.is_active){const d=parseFloat(e.discount.discount_value);return Math.round(d)}return 0};return M(async()=>{await x(),await T(),window.addEventListener("currency-changed",()=>{T()})}),(e,d)=>{const o=$("fa"),p=$("router-link");return n(),g("div",xe,[s("div",Ie,[s("div",Be,[b(o,{class:"fa-icon me-2",icon:["fas","shopping-basket"]}),s("h2",Oe,h(e.$t("home.products")),1)]),f.value?(n(),g("div",Ve,"Loading products...")):(n(),g("div",Le,[(n(!0),g(W,null,N(a.value,l=>(n(),g("div",{key:l.id,class:"col-sm-6 col-md-4 col-lg-3"},[s("div",Te,[s("div",Ee,[b(p,{to:`/read/products/${l.id}`},{default:F(()=>[l.images&&l.images.length?(n(),g("img",{key:0,src:L(l.images[0].path),alt:l.name_en,class:"card-img-top product-img"},null,8,Ue)):w("",!0)]),_:2},1032,["to"]),l.is_available?w("",!0):(n(),g("div",Ae,h(e.$t("products.outOfStock")),1)),s("div",We,[b(p,{to:`/read/products/${l.id}`,class:"btn btn-light rounded-circle shadow-sm",title:"View"},{default:F(()=>[b(o,{icon:"eye"})]),_:2},1032,["to"]),s("button",{onClick:E=>r(l),class:z(["btn btn-light shadow-sm disable",{disabled:!l.is_available}]),disabled:!l.is_available},h(e.$t("home.add-to-cart")),11,ze),s("button",{onClick:E=>r(l),class:"d-none btn rounded-circle shadow-sm btn-light enable"},[b(o,{icon:"shopping-cart"})],8,Ne),s("button",{onClick:E=>A(l),class:z(["btn rounded-circle shadow-sm btn-light",B(l.id)?"text-danger":""]),title:B(l.id)?"Remove from favorites":"Add to favorites"},[b(o,{icon:B(l.id)?"fas fa-heart":"far fa-heart"},null,8,["icon"])],10,je)])]),s("div",qe,[s("h5",De,h(G(S)==="ar"?l.name_ar:l.name_en),1),s("div",He,[l.discount&&l.discount.is_active?(n(),g("span",Re,h(i(l))+"% OFF ",1)):w("",!0),l.discount&&l.discount.is_active?(n(),g("span",Je,h(l.converted_price)+" "+h(l.currency_code),1)):w("",!0),s("span",Me,h(y(l))+" "+h(l.currency_code),1)])])])]))),128))]))])])}}},Ke=V(Ge,[["__scopeId","data-v-d1bf4f19"]]);const Qe={class:"products-section"},Xe={class:"container"},Ye={class:"title mt-5"},Ze={class:"row g-4"},es={class:"card my-3 p-sm-4"},ss={class:"img-container rounded position-relative"},ts=["src","alt"],os={key:0,class:"sale-badge"},as={class:"body-container"},is={class:"card-body"},rs={class:"card-title"},ns={class:"price-container"},cs={key:0,class:"discount-badge"},ls={key:1,class:"price-old"},ds={class:"card-text card-price"},_s={class:"product-actions d-flex justify-content-center flex-wrap gap-2"},us=["disabled","onClick"],hs=["onClick","title"],gs={__name:"BestSelling",setup(t){const a=P([]),_=P(!1),f=P(""),c=H(),m=R(),{locale:S,t:u}=J();P([]),P({code:"USD"});const L=async()=>{try{const i=JSON.parse(localStorage.getItem("selectedCurrency"))||{code:"USD"},e=await C.get("http://elegance_backend.test/api/website/best-selling/products",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,Currency:i.code}});e.data.status&&e.data.data&&(a.value=e.data.data,await x())}catch(i){console.error("Error fetching products:",i),k({title:"Error",message:"Failed to load products.",type:"error"})}},x=async()=>{try{const i=await C.get("http://elegance_backend.test/api/favorites",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});i.data.status&&i.data.data&&c.setFavorites(i.data.data)}catch(i){console.error("Error fetching favorites:",i)}},T=i=>`http://elegance_backend.test/public/storage/${i}`,I=i=>c.favorites.some(e=>e.product_id===i),B=i=>{const e=c.favorites.find(d=>d.product_id===i);return e?e.favorite_id||e.id:null},U=async i=>{var e,d;try{if(I(i.id)){const o=B(i.id);o&&(await c.removeFromFavorites(o),k({title:u("success"),message:u("favorite_removed")||"Product removed from favorites",type:"success"}))}else{const o=await c.addToFavorites(i.id);k({title:u("success"),message:o.message||u("favorite_added")||"Product added to favorites",type:"success"})}}catch(o){console.error("Favorite error:",o),k({title:u("error"),message:((d=(e=o.response)==null?void 0:e.data)==null?void 0:d.message)||u("login_required_favorite")||"Login required to favorite product",type:"error"})}},A=async i=>{var e,d;try{let o=0;if(i.discount&&i.discount.is_active){const E=parseFloat(i.discount.discount_value),v=parseFloat(i.converted_price||i.price);o=v-v*(E/100)}else o=parseFloat(i.converted_price)||parseFloat(i.price);const p=localStorage.getItem("user_id"),l=await C.post("http://elegance_backend.test/api/cart-items",{product_id:i.id,quantity:1,price:o,user_id:p},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});l.data.status?(k({title:u("success"),message:l.data.message,type:"success"}),m.incrementCount(),await m.fetchCartCount()):k({title:u("error"),message:l.data.message,type:"error"})}catch(o){console.error("Error adding to cart:",o),k({title:u("error"),message:(d=(e=o.response)==null?void 0:e.data)==null?void 0:d.message,type:"error"})}},r=i=>{if(i.discount&&i.discount.is_active){const e=parseFloat(i.discount.discount_value),d=parseFloat(i.converted_price||i.price);return(d-d*(e/100)).toFixed(2)}return(i.converted_price||i.price).toFixed(2)},y=i=>i.discount&&i.discount.is_active?Math.round(parseFloat(i.discount.discount_value)):0;return M(()=>{L(),window.addEventListener("currency-changed",()=>{L()})}),(i,e)=>{const d=$("fa"),o=$("router-link"),p=$("el-col"),l=$("el-button"),E=$("el-dialog");return n(),g("div",Qe,[s("div",Xe,[s("div",Ye,[b(d,{class:"fa-icon",icon:["fas","star"]}),s("h2",null,h(i.$t("home.best-selling")),1)]),s("div",Ze,[(n(!0),g(W,null,N(a.value,v=>(n(),O(p,{key:v.id,xs:24,sm:24,md:12,lg:12},{default:F(()=>[s("div",es,[s("div",ss,[b(o,{to:`/read/products/${v.id}`},{default:F(()=>[v.images.length?(n(),g("img",{key:0,src:T(v.images[0].path),alt:v.name_en,class:"product-img card-img bg-light"},null,8,ts)):w("",!0)]),_:2},1032,["to"]),v.is_available?w("",!0):(n(),g("div",os,h(i.$t("products.outOfStock")),1))]),s("div",as,[s("div",is,[s("h5",rs,h(G(S)==="ar"?v.name_ar:v.name_en),1),s("div",ns,[v.discount&&v.discount.is_active?(n(),g("span",cs,h(y(v))+"% OFF ",1)):w("",!0),v.discount&&v.discount.is_active?(n(),g("span",ls,h((v.converted_price||v.price).toFixed(2))+" "+h(v.currency_code),1)):w("",!0),s("span",ds,h(r(v))+" "+h(v.currency_code),1)])]),s("div",_s,[b(o,{to:`/read/products/${v.id}`,class:"btn btn-light rounded-circle shadow-sm",title:"View"},{default:F(()=>[b(d,{icon:"eye"})]),_:2},1032,["to"]),s("button",{disabled:!v.is_available,onClick:X=>A(v),class:"btn btn-light shadow-sm rounded-circle"},[b(d,{icon:"cart-plus"})],8,us),s("button",{onClick:X=>U(v),class:z(["btn rounded-circle shadow-sm btn-light",I(v.id)?"text-danger":""]),title:I(v.id)?"Remove from favorites":"Add to favorites"},[b(d,{icon:I(v.id)?"fas fa-heart":"far fa-heart"},null,8,["icon"])],10,hs)])])])]),_:2},1024))),128))])]),b(E,{modelValue:_.value,"onUpdate:modelValue":e[1]||(e[1]=v=>_.value=v),title:"🎉 Success",width:"30%","before-close":()=>_.value=!1,center:!0,"close-on-click-modal":!1,"show-close":!1},{footer:F(()=>[b(l,{type:"primary",onClick:e[0]||(e[0]=v=>_.value=!1)},{default:F(()=>e[2]||(e[2]=[q("OK")])),_:1,__:[2]})]),default:F(()=>[s("span",null,h(f.value),1)]),_:1},8,["modelValue","before-close"])])}}},fs=V(gs,[["__scopeId","data-v-3f18a790"]]),vs="/assets/3-adbf781a.png",ms="/assets/2-1da5d603.png",ps="/assets/icon 1 -ced21c67.png",bs="/assets/4-b68b6467.png",ys="/assets/elegancewebsiteleft-524d19b0.png",$s="/assets/elegancewebsiteright-4654db9e.png";const ws={name:"WhyChooseUs",data(){return{}}},ks={class:"why-choose-us"},Ss={class:"container"},Cs={class:"title mt-5"},Fs={class:"row row-cols-xl-5 row-cols-lg-4 row-cols-md-3 row-cols-sm-2 row-cols-1 row--20 d-flex justify-content-around"},Ps={class:"col"},xs={class:"service-box card"},Is={class:"title"},Bs={class:"col"},Os={class:"service-box card"},Vs={class:"title"},Ls={class:"col"},Ts={class:"service-box card"},Es={class:"title"},Us={class:"col"},As={class:"service-box card"},Ws={class:"title"};function zs(t,a,_,f,c,m){const S=$("fa");return n(),g(W,null,[s("section",ks,[s("div",Ss,[s("div",Cs,[b(S,{class:"fa-icon",icon:["fas","shopping-basket"]}),s("h2",null,h(t.$t("home.why-us")),1)]),s("div",Fs,[s("div",Ps,[s("div",xs,[a[0]||(a[0]=s("div",{class:"icon"},[s("img",{src:vs,class:"img-fluid",alt:"Service"})],-1)),s("h6",Is,h(t.$t("home.why.fast_delivery")),1)])]),s("div",Bs,[s("div",Os,[a[1]||(a[1]=s("div",{class:"icon"},[s("img",{src:ms,class:"img-fluid",alt:"Service"})],-1)),s("h6",Vs,h(t.$t("home.why.guarantee")),1)])]),s("div",Ls,[s("div",Ts,[a[2]||(a[2]=s("div",{class:"icon"},[s("img",{src:ps,class:"img-fluid",alt:"Service"})],-1)),s("h6",Es,h(t.$t("home.why.return_policy")),1)])]),s("div",Us,[s("div",As,[a[3]||(a[3]=s("div",{class:"icon"},[s("img",{src:bs,class:"img-fluid",alt:"Service"})],-1)),s("h6",Ws,h(t.$t("home.why.pro_quality")),1)])])])])]),a[4]||(a[4]=Q('<div class="axil-poster mt-3" data-v-537f384d><div class="container" data-v-537f384d><div class="row" data-v-537f384d><div class="col-lg-6 mb--30" data-v-537f384d><div class="single-poster" data-v-537f384d><a data-v-537f384d><img src="'+ys+'" data-v-537f384d></a></div></div><div class="col-lg-6 mb--30" data-v-537f384d><div class="single-poster" data-v-537f384d><a data-v-537f384d><img src="'+$s+'" data-v-537f384d></a></div></div></div></div></div>',1))],64)}const Ns=V(ws,[["render",zs],["__scopeId","data-v-537f384d"]]);const js={class:"products-section py-5"},qs={class:"container"},Ds={class:"title section-header d-flex align-items-center mb-4"},Hs={class:"mb-0"},Rs={class:"row justify-content-center g-4"},Js={class:"product-card card h-100 w-100"},Ms={class:"img-container overflow-hidden bg-light m-2 rounded-circle"},Gs=["src","alt"],Ks={key:0,class:"sale-badge"},Qs={class:"card-body"},Xs={class:"card-title"},Ys={class:"price-container"},Zs={key:0,class:"discount-badge"},et={key:1,class:"price-old"},st={class:"card-text card-price"},tt={class:"product-actions d-flex justify-content-center flex-wrap gap-2"},ot=["onClick","disabled"],at=["onClick","title"],it={__name:"LatestProducts",setup(t){const a=P([]);P(!1),P("");const _=H(),f=R(),{locale:c,t:m}=J(),S=async()=>{try{const r=JSON.parse(localStorage.getItem("selectedCurrency"))||{code:"USD"},y=await C.get("http://elegance_backend.test/api/website/latest/products",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,Currency:r.code}});y.data.status&&y.data.data&&(a.value=y.data.data,await u())}catch(r){console.error("Error fetching products:",r)}},u=async()=>{try{const r=await C.get("http://elegance_backend.test/api/favorites",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});r.data.status&&r.data.data&&_.setFavorites(r.data.data)}catch(r){console.error("Error fetching favorites:",r)}},L=r=>`http://elegance_backend.test/public/storage/${r}`,x=r=>_.favorites.some(y=>y.product_id===r),T=r=>{var y,i;return((y=_.favorites.find(e=>e.product_id===r))==null?void 0:y.favorite_id)||((i=_.favorites.find(e=>e.product_id===r))==null?void 0:i.id)},I=async r=>{var y,i;try{if(x(r.id)){const e=T(r.id);e&&(await _.removeFromFavorites(e),k({title:m("success"),message:m("favorite_removed")||"Product removed from favorites",type:"success"}))}else{const e=await _.addToFavorites(r.id);k({title:m("success"),message:e.message||m("favorite_added")||"Product added to favorites",type:"success"})}}catch(e){console.error("Favorite error:",e),k({title:m("error"),message:((i=(y=e.response)==null?void 0:y.data)==null?void 0:i.message)||m("login_required_favorite")||"Login required to favorite product",type:"error"})}},B=r=>{if(r.discount&&r.discount.is_active){const y=parseFloat(r.discount.discount_value),i=parseFloat(r.converted_price);return(i-i*(y/100)).toFixed(2)}return r.converted_price},U=async r=>{var y,i;try{let e=0;if(r.discount&&r.discount.is_active){const p=parseFloat(r.discount.discount_value),l=parseFloat(r.converted_price);e=l-l*(p/100)}else e=parseFloat(r.converted_price);const d={product_id:r.id,quantity:1,price:e};r.amounts&&r.amounts.length>0&&(d.amount_id=r.amounts[0].id);const o=await C.post("http://elegance_backend.test/api/cart-items",d,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json",Accept:"application/json"}});o.data.status?(k({title:m("success"),message:o.data.message,type:"success"}),f.incrementCount(),await f.fetchCartCount()):k({title:m("error"),message:o.data.message,type:"error"})}catch(e){console.error("Error adding to cart:",e),k({title:m("error"),message:(i=(y=e.response)==null?void 0:y.data)==null?void 0:i.message,type:"error"})}},A=r=>{if(r.discount&&r.discount.is_active){const y=parseFloat(r.discount.discount_value);return Math.round(y)}return 0};return M(()=>{S(),window.addEventListener("currency-changed",()=>{S()})}),(r,y)=>{const i=$("fa"),e=$("router-link"),d=$("el-col");return n(),g("div",js,[s("div",qs,[s("div",Ds,[b(i,{class:"fa-icon me-2",icon:["fas","shopping-basket"]}),s("h2",Hs,h(r.$t("LatestProducts.LatestProducts")),1)]),s("div",Rs,[(n(!0),g(W,null,N(a.value,o=>(n(),O(d,{key:o.id,xs:24,sm:12,md:8,lg:6,class:"d-flex justify-content-center"},{default:F(()=>[s("div",Js,[s("div",Ms,[b(e,{to:`/read/products/${o.id}`},{default:F(()=>[o.images.length?(n(),g("img",{key:0,src:L(o.images[0].path),alt:o.name_en,class:"product-img card-img-top"},null,8,Gs)):w("",!0)]),_:2},1032,["to"]),o.is_available?w("",!0):(n(),g("div",Ks,h(r.$t("products.outOfStock")),1))]),s("div",Qs,[s("h5",Xs,h(G(c)==="ar"?o.name_ar:o.name_en),1),s("div",Ys,[o.discount&&o.discount.is_active?(n(),g("span",Zs,h(A(o))+"% OFF ",1)):w("",!0),o.discount&&o.discount.is_active?(n(),g("span",et,h(o.converted_price)+" "+h(o.currency_code),1)):w("",!0),s("span",st,h(B(o))+" "+h(o.currency_code),1)]),s("div",tt,[b(e,{to:`/read/products/${o.id}`,class:"btn btn-light rounded-circle shadow-sm",title:"View"},{default:F(()=>[b(i,{icon:"eye"})]),_:2},1032,["to"]),s("button",{onClick:p=>U(o),disabled:!o.is_available,class:"btn btn-light shadow-sm"},h(r.$t("home.add-to-cart")),9,ot),s("button",{onClick:p=>I(o),class:z(["btn rounded-circle shadow-sm btn-light",x(o.id)?"text-danger":""]),title:x(o.id)?"Remove from favorites":"Add to favorites"},[b(i,{icon:x(o.id)?"fas fa-heart":"far fa-heart"},null,8,["icon"])],10,at)])])])]),_:2},1024))),128))])])])}}},rt=V(it,[["__scopeId","data-v-5883e107"]]);const nt={name:"Loader"},ct={class:"loader-svg-wrapper"};function lt(t,a,_,f,c,m){return n(),g("div",ct,a[0]||(a[0]=[s("div",{class:"loader"},null,-1)]))}const dt=V(nt,[["render",lt],["__scopeId","data-v-417d877b"]]);const _t={name:"VerifyOtp",data(){return{success:"",error:""}},methods:{async resendOtp(){var t,a,_;try{const f=localStorage.getItem("otp_email");if(!f){this.error="No email found. Please login again.";return}const c=await C.post("http://elegance_backend.test/api/resend-otp",{email:f});(t=c.data)!=null&&t.success?(this.success=((a=c.data)==null?void 0:a.message)||"OTP resent successfully.",this.$router.push("/otp")):this.error=((_=c.data)==null?void 0:_.message)||"Failed to resend OTP."}catch(f){console.error(f),this.error="Something went wrong. Please try again."}}}},ut={class:"modal-overlay d-flex justify-content-center align-items-center"},ht={class:"cart-modal bg-white rounded-4 shadow p-4 position-relative"},gt={class:"cart-content overflow-auto d-flex align-items-center flex-column",style:{"max-height":"70vh"}},ft={class:"w-50 d-flex align-items-center flex-column text-center"},vt={key:0,class:"success-message"},mt={key:1,class:"error-message"};function pt(t,a,_,f,c,m){const S=$("fa");return n(),g("div",ut,[s("div",ht,[a[4]||(a[4]=s("div",{class:"mb-4 d-flex justify-content-center align-items-center w-100 logo-container"},[s("img",{src:se,alt:"Logo"})],-1)),s("button",{class:"close-btn",onClick:a[0]||(a[0]=u=>t.$emit("close"))},"×"),s("div",gt,[s("div",ft,[a[2]||(a[2]=s("p",{class:"text-center mb-4"},"sorry to say",-1)),b(S,{icon:"circle-exclamation",size:"xl",class:"icon mb-2"}),a[3]||(a[3]=s("h5",null,[q("Enter the "),s("span",null,"OTP"),q(" sent in the email to "),s("span",null,"active"),q(" your "),s("span",null,"account")],-1)),s("button",{type:"button",onClick:a[1]||(a[1]=(...u)=>m.resendOtp&&m.resendOtp(...u)),class:"login-btn btn my-4"},"active now")]),c.success?(n(),g("div",vt,h(c.success),1)):w("",!0),c.error?(n(),g("div",mt,h(c.error),1)):w("",!0)])])])}const K=V(_t,[["render",pt]]),bt="/assets/slider1-d6efcb08.png",yt="/assets/slider2-c32800b9.png",$t="/assets/Slider3-24a08685.png";const wt={name:"Home",components:{Header:te,Categories:pe,HomeBrands:Pe,LatestProducts:rt,Products:Ke,BestSelling:fs,WhyChooseUs:Ns,Footer:oe,Loader:dt,VerifyOtp:K,VerifyOtpPopup:K},computed:{showVerifyOtp(){return this.user&&!this.user.is_verified},direction(){return ae.global.locale==="ar"?"rtl":"ltr"}},data(){return{showBrand:!1,showOurProducts:!1,showLatestProducts:!1,showBestSelling:!1,loading:!0,user:null,token:null,showVerifyOtpPopup:!1}},mounted(){this.fetchSettings(),localStorage.getItem("showVerifyOtpPopup")==="true"&&(this.showVerifyOtpPopup=!0,localStorage.removeItem("showVerifyOtpPopup"))},methods:{async fetchSettings(){try{const _=(await(await fetch("http://elegance_backend.test/api/settings")).json()).data,f=c=>{const m=_.find(S=>S.key===c);return m&&m.value==="1"};this.showBrand=f("show_brand"),this.showOurProducts=f("show_our_products"),this.showLatestProducts=f("show_latest_products"),this.showBestSelling=f("show_best_selling_products")}catch(t){console.error("Failed to fetch settings:",t)}finally{setTimeout(()=>{this.loading=!1},3e3)}},scrollLeft(){const t=window.innerWidth,_=this.$refs.slider.querySelector(".card").offsetWidth;t<=440?this.$refs.slider.scrollBy({left:-(_*2+26),behavior:"smooth"}):t<=768?this.$refs.slider.scrollBy({left:-(_*3+50),behavior:"smooth"}):t<=1200?this.$refs.slider.scrollBy({left:-(_*4+50),behavior:"smooth"}):this.$refs.slider.scrollBy({left:-(_*7+30),behavior:"smooth"})},scrollRight(){const t=window.innerWidth,_=this.$refs.slider.querySelector(".card").offsetWidth;t<=440?this.$refs.slider.scrollBy({left:_*2+26,behavior:"smooth"}):t<=768?this.$refs.slider.scrollBy({left:_*3+50,behavior:"smooth"}):t<=1200?this.$refs.slider.scrollBy({left:_*4+50,behavior:"smooth"}):this.$refs.slider.scrollBy({left:_*7+30,behavior:"smooth"})}},created(){const t=localStorage.getItem("user"),a=localStorage.getItem("token");t&&(this.user=JSON.parse(t)),a&&(this.token=a)}},kt={class:"home"};function St(t,a,_,f,c,m){const S=$("Loader"),u=$("Header"),L=$("VerifyOtp"),x=$("verify-otp-popup"),T=$("Categories"),I=$("HomeBrands"),B=$("Products"),U=$("LatestProducts"),A=$("BestSelling"),r=$("WhyChooseUs"),y=$("Footer");return n(),g("div",kt,[c.loading?(n(),O(S,{key:0})):w("",!0),b(u),m.showVerifyOtp?(n(),O(L,{key:1,user:c.user,token:c.token},null,8,["user","token"])):w("",!0),c.showVerifyOtpPopup?(n(),O(x,{key:2,onClose:a[0]||(a[0]=i=>c.showVerifyOtpPopup=!1)})):w("",!0),a[1]||(a[1]=Q('<section class="hero-section" data-v-6b1fc768><div id="carouselExample" class="carousel slide" data-v-6b1fc768><div class="carousel-inner" data-v-6b1fc768><div class="carousel-item active" data-v-6b1fc768><img src="'+bt+'" class="d-block w-100" alt="..." data-v-6b1fc768></div><div class="carousel-item" data-v-6b1fc768><img src="'+yt+'" class="d-block w-100" alt="..." data-v-6b1fc768></div><div class="carousel-item" data-v-6b1fc768><img src="'+$t+'" class="d-block w-100" alt="..." data-v-6b1fc768></div></div><button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev" data-v-6b1fc768><span class="carousel-control-prev-icon" aria-hidden="true" data-v-6b1fc768></span><span class="visually-hidden" data-v-6b1fc768>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next" data-v-6b1fc768><span class="carousel-control-next-icon" aria-hidden="true" data-v-6b1fc768></span><span class="visually-hidden" data-v-6b1fc768>Next</span></button></div></section>',1)),b(T),c.showBrand?(n(),O(I,{key:3})):w("",!0),c.showOurProducts?(n(),O(B,{key:4})):w("",!0),c.showLatestProducts?(n(),O(U,{key:5})):w("",!0),c.showBestSelling?(n(),O(A,{key:6})):w("",!0),b(r),b(y)])}const Pt=V(wt,[["render",St],["__scopeId","data-v-6b1fc768"]]);export{Pt as default};
