import{_ as f,b as m,o as i,c as d,a as t,w,g as l,aa as r,n as c,t as u,f as _,F as b,d as v}from"./index-67b7e0a9.js";const k={name:"SettingsComponent",data(){return{settings:{show_category:!0,show_brand:!0,show_our_products:!0,show_latest_products:!0,show_best_selling_products:!0},loading:!0,message:"",errors:[]}},methods:{fetchSettings(){m.get("http://elegance_backend.test/api/settings").then(a=>{const s=a.data.data,n={};s.forEach(g=>{n[g.key]=g.value==="1"}),this.settings={show_category:n.show_category??!1,show_brand:n.show_brand??!1,show_our_products:n.show_our_products??!1,show_latest_products:n.show_latest_products??!1,show_best_selling_products:n.show_best_selling_products??!1},this.loading=!1}).catch(a=>{console.error("Error fetching settings:",a),this.loading=!1})},saveSettings(){const a={show_category:this.settings.show_category?"1":"0",show_brand:this.settings.show_brand?"1":"0",show_our_products:this.settings.show_our_products?"1":"0",show_latest_products:this.settings.show_latest_products?"1":"0",show_best_selling_products:this.settings.show_best_selling_products?"1":"0"};m.post("/api/settings",a).then(s=>{this.message=s.data.message||"تم الحفظ بنجاح",this.errors=[]}).catch(s=>{s.response&&s.response.data.errors?this.errors=Object.values(s.response.data.errors).flat():console.error("Error saving settings:",s)})}},mounted(){this.fetchSettings()}},y={class:"container py-5"},x={class:"card shadow rounded-4 p-4 border-0"},S={key:0,class:"text-center"},P={class:"form-group mb-4"},B={class:"d-flex gap-4"},F={class:"form-check"},V={class:"form-check"},T={class:"form-group mb-4"},U={class:"d-flex gap-4"},C={class:"form-check"},L={class:"form-check"},O={class:"form-group mb-4"},E={class:"d-flex gap-4"},D={class:"form-check"},M={class:"form-check"},N={class:"form-group mb-4"},j={class:"d-flex gap-4"},z={class:"form-check"},A={class:"form-check"},I={class:"form-group mb-4"},R={class:"d-flex gap-4"},q={class:"form-check"},G={class:"form-check"},H={key:0,class:"alert alert-success mt-4 text-center rounded-3"},J={key:1,class:"alert alert-danger mt-4 text-center rounded-3"};function K(a,s,n,g,e,p){return i(),d("div",y,[t("div",x,[s[28]||(s[28]=t("h2",{class:"mb-4 text-center fw-bold"},"إعدادات الموقع",-1)),e.loading?(i(),d("div",S,s[11]||(s[11]=[t("div",{class:"spinner-border text-primary",role:"status"},[t("span",{class:"visually-hidden"},"جار التحميل...")],-1)]))):(i(),d("form",{key:1,onSubmit:s[10]||(s[10]=w((...o)=>p.saveSettings&&p.saveSettings(...o),["prevent"]))},[t("div",P,[s[14]||(s[14]=t("label",{class:"form-label fw-semibold mb-2"},"عرض التصنيفات (Category)",-1)),t("div",B,[t("div",F,[l(t("input",{class:"form-check-input",type:"radio",id:"showCategoryTrue",value:!0,"onUpdate:modelValue":s[0]||(s[0]=o=>e.settings.show_category=o)},null,512),[[r,e.settings.show_category]]),s[12]||(s[12]=t("label",{class:"form-check-label",for:"showCategoryTrue"},"تفعيل",-1))]),t("div",V,[l(t("input",{class:"form-check-input",type:"radio",id:"showCategoryFalse",value:!1,"onUpdate:modelValue":s[1]||(s[1]=o=>e.settings.show_category=o)},null,512),[[r,e.settings.show_category]]),s[13]||(s[13]=t("label",{class:"form-check-label",for:"showCategoryFalse"},"تعطيل",-1))])]),t("small",{class:c(["d-block mt-2 fw-medium",e.settings.show_category?"text-success":"text-danger"])}," الحالة الحالية: "+u(e.settings.show_category?"مفعّل":"معطّل"),3)]),t("div",T,[s[17]||(s[17]=t("label",{class:"form-label fw-semibold mb-2"},"عرض الماركات (Brand)",-1)),t("div",U,[t("div",C,[l(t("input",{class:"form-check-input",type:"radio",id:"showBrandTrue",value:!0,"onUpdate:modelValue":s[2]||(s[2]=o=>e.settings.show_brand=o)},null,512),[[r,e.settings.show_brand]]),s[15]||(s[15]=t("label",{class:"form-check-label",for:"showBrandTrue"},"تفعيل",-1))]),t("div",L,[l(t("input",{class:"form-check-input",type:"radio",id:"showBrandFalse",value:!1,"onUpdate:modelValue":s[3]||(s[3]=o=>e.settings.show_brand=o)},null,512),[[r,e.settings.show_brand]]),s[16]||(s[16]=t("label",{class:"form-check-label",for:"showBrandFalse"},"تعطيل",-1))])]),t("small",{class:c(["d-block mt-2 fw-medium",e.settings.show_brand?"text-success":"text-danger"])}," الحالة الحالية: "+u(e.settings.show_brand?"مفعّل":"معطّل"),3)]),t("div",O,[s[20]||(s[20]=t("label",{class:"form-label fw-semibold mb-2"},"عرض المنتجات لدينا (Our Products)",-1)),t("div",E,[t("div",D,[l(t("input",{class:"form-check-input",type:"radio",id:"showOurProductsTrue",value:!0,"onUpdate:modelValue":s[4]||(s[4]=o=>e.settings.show_our_products=o)},null,512),[[r,e.settings.show_our_products]]),s[18]||(s[18]=t("label",{class:"form-check-label",for:"showOurProductsTrue"},"تفعيل",-1))]),t("div",M,[l(t("input",{class:"form-check-input",type:"radio",id:"showOurProductsFalse",value:!1,"onUpdate:modelValue":s[5]||(s[5]=o=>e.settings.show_our_products=o)},null,512),[[r,e.settings.show_our_products]]),s[19]||(s[19]=t("label",{class:"form-check-label",for:"showOurProductsFalse"},"تعطيل",-1))])]),t("small",{class:c(["d-block mt-2 fw-medium",e.settings.show_our_products?"text-success":"text-danger"])}," الحالة الحالية: "+u(e.settings.show_our_products?"مفعّل":"معطّل"),3)]),t("div",N,[s[23]||(s[23]=t("label",{class:"form-label fw-semibold mb-2"},"عرض المنتجات الجديدة (Latest Products)",-1)),t("div",j,[t("div",z,[l(t("input",{class:"form-check-input",type:"radio",id:"showLatestProductsTrue",value:!0,"onUpdate:modelValue":s[6]||(s[6]=o=>e.settings.show_latest_products=o)},null,512),[[r,e.settings.show_latest_products]]),s[21]||(s[21]=t("label",{class:"form-check-label",for:"showLatestProductsTrue"},"تفعيل",-1))]),t("div",A,[l(t("input",{class:"form-check-input",type:"radio",id:"showLatestProductsFalse",value:!1,"onUpdate:modelValue":s[7]||(s[7]=o=>e.settings.show_latest_products=o)},null,512),[[r,e.settings.show_latest_products]]),s[22]||(s[22]=t("label",{class:"form-check-label",for:"showLatestProductsFalse"},"تعطيل",-1))])]),t("small",{class:c(["d-block mt-2 fw-medium",e.settings.show_latest_products?"text-success":"text-danger"])}," الحالة الحالية: "+u(e.settings.show_latest_products?"مفعّل":"معطّل"),3)]),t("div",I,[s[26]||(s[26]=t("label",{class:"form-label fw-semibold mb-2"},"عرض المنتجات الأكثر مبيعًا (Best Selling Products)",-1)),t("div",R,[t("div",q,[l(t("input",{class:"form-check-input",type:"radio",id:"showBestSellingProductsTrue",value:!0,"onUpdate:modelValue":s[8]||(s[8]=o=>e.settings.show_best_selling_products=o)},null,512),[[r,e.settings.show_best_selling_products]]),s[24]||(s[24]=t("label",{class:"form-check-label",for:"showBestSellingProductsTrue"},"تفعيل",-1))]),t("div",G,[l(t("input",{class:"form-check-input",type:"radio",id:"showBestSellingProductsFalse",value:!1,"onUpdate:modelValue":s[9]||(s[9]=o=>e.settings.show_best_selling_products=o)},null,512),[[r,e.settings.show_best_selling_products]]),s[25]||(s[25]=t("label",{class:"form-check-label",for:"showBestSellingProductsFalse"},"تعطيل",-1))])]),t("small",{class:c(["d-block mt-2 fw-medium",e.settings.show_best_selling_products?"text-success":"text-danger"])}," الحالة الحالية: "+u(e.settings.show_best_selling_products?"مفعّل":"معطّل"),3)]),s[27]||(s[27]=t("div",{class:"text-center"},[t("button",{type:"submit",class:"btn btn-primary px-5 py-2 rounded-3 shadow-sm"}," حفظ التغييرات ")],-1)),e.message?(i(),d("div",H,u(e.message),1)):_("",!0),e.errors.length?(i(),d("div",J,[t("ul",null,[(i(!0),d(b,null,v(e.errors,(o,h)=>(i(),d("li",{key:h},u(o),1))),128))])])):_("",!0)],32))])])}const W=f(k,[["render",K],["__scopeId","data-v-ff416e99"]]);export{W as default};
