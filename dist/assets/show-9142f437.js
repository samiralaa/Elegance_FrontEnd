import{_ as P,J as S,I as z,u as k,z as G,r,a2 as U,o as n,c as g,a as s,e as a,l as t,L as _,t as l,g as J,j as u,n as M,b as C,U as j,m as p,a6 as O,a3 as $,f as T,F as q,d as H}from"./index-f73fdb68.js";const K={class:"header"},Q={class:"header-left"},W={class:"page-title"},X={key:0,class:"details-content"},Y={class:"image-section"},Z={class:"image-error"},x={key:1,class:"image-error"},ee={class:"info-section"},te={dir:"rtl"},ae={dir:"rtl"},oe={class:"image-error"},se={class:"product-info"},m="https://backend.webenia.org",le={__name:"show",setup(re){const b=S(),N=z(),o=k(null),v=k(!1),A=`${m}/api/categories`,B=async()=>{v.value=!0;try{const e=JSON.parse(localStorage.getItem("tokenData"));if(!e||!e.token)throw new Error("Authentication token not found");C.defaults.headers.common.Authorization=`Bearer ${e.token}`;const c=await C.get(`${A}/${N.params.id}`);if(c.data.status==="success")o.value=c.data.data;else throw new Error(c.data.message||"Failed to fetch category")}catch(e){console.error("Fetch category error:",e),j.error(e.message||"Failed to fetch category"),b.push("/categories")}finally{v.value=!1}};return G(()=>{B()}),(e,c)=>{const D=r("el-button"),f=r("el-icon"),w=r("el-image"),d=r("el-descriptions-item"),E=r("el-descriptions"),F=r("el-divider"),R=r("el-empty"),y=r("el-card"),V=r("el-col"),I=r("el-row"),L=U("loading");return n(),g("div",{class:M(["category-details-container",{rtl:e.$i18n.locale==="ar"}])},[s("div",K,[s("div",Q,[a(D,{onClick:c[0]||(c[0]=h=>_(b).back()),icon:_(O),class:"back-button"},{default:t(()=>[p(l(e.$t("common.cancel")),1)]),_:1},8,["icon"]),s("h2",W,l(e.$t("Categories.Categories"))+" "+l(e.$t("Global.View")),1)])]),J((n(),u(y,{class:"category-details"},{default:t(()=>{var h;return[o.value?(n(),g("div",X,[s("div",Y,[o.value.images&&o.value.images.length>0?(n(),u(w,{key:0,src:`${m}/${o.value.images[0].path}`,fit:"cover",class:"category-image","preview-src-list":[`${m}/${o.value.images[0].path}`],"initial-index":0,"preview-teleported":""},{error:t(()=>[s("div",Z,[a(f,null,{default:t(()=>[a(_($))]),_:1})])]),_:1},8,["src","preview-src-list"])):(n(),g("div",x,[a(f,null,{default:t(()=>[a(_($))]),_:1})]))]),s("div",ee,[a(E,{column:1,border:""},{default:t(()=>[a(d,{label:e.$t("Categories.name")+" (EN)"},{default:t(()=>[p(l(o.value.name_en),1)]),_:1},8,["label"]),a(d,{label:e.$t("Categories.name")+" (AR)"},{default:t(()=>[s("div",te,l(o.value.name_ar||"N/A"),1)]),_:1},8,["label"]),a(d,{label:e.$t("Categories.Brand")},{default:t(()=>{var i;return[p(l(((i=o.value.brand)==null?void 0:i.name_en)||"N/A"),1)]}),_:1},8,["label"]),a(d,{label:e.$t("Categories.DescriptionEn")},{default:t(()=>[p(l(o.value.description_en||"N/A"),1)]),_:1},8,["label"]),a(d,{label:e.$t("Categories.DescriptionAr")},{default:t(()=>[s("div",ae,l(o.value.description_ar||"N/A"),1)]),_:1},8,["label"])]),_:1})])])):T("",!0),a(F,{"content-position":"left"},{default:t(()=>[p(l(e.$t("Categories.Products")),1)]),_:1}),!((h=o.value)!=null&&h.products)||o.value.products.length===0?(n(),u(R,{key:1,description:e.$t("Global.NoProducts")},null,8,["description"])):(n(),u(I,{key:2,gutter:20},{default:t(()=>[(n(!0),g(q,null,H(o.value.products,i=>(n(),u(V,{key:i.id,xs:24,sm:12,md:8,lg:6},{default:t(()=>[a(y,{class:"product-card",shadow:"hover"},{default:t(()=>[a(w,{src:`${m}/${i.image}`,fit:"cover",class:"product-image","preview-src-list":[`${m}/${i.image}`],"preview-teleported":""},{error:t(()=>[s("div",oe,[a(f,null,{default:t(()=>[a(_($))]),_:1})])]),_:2},1032,["src","preview-src-list"]),s("div",se,[s("h3",null,l(i.name_en),1),s("p",null,l(e.$t("Global.Price"))+": $"+l(i.price),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1}))]}),_:1})),[[L,v.value]])],2)}}},ie=P(le,[["__scopeId","data-v-27d21708"]]);export{ie as default};
