import{q as Y,s as Z,A as M,u as ee,_ as L,r as b,o as c,c as g,a as e,e as m,t as _,F as U,d as N,n as z,f as y,b as x,p as I,x as O,y as q,z as H,B as R,C as te,D as J,E as K,G as S,i as T,l as j,I as Q,j as se,w as oe,v as ae,H as ie,J as re,K as ne}from"./index-db8d7353.js";import{$ as W}from"./slick-theme-0ec94cda.js";const ce={name:"WebsiteCategories",computed:{...Y("websiteCategories",{categories:t=>t.items,loading:t=>t.loading,error:t=>t.error})},created(){this.loadCategories()},methods:{...Z("websiteCategories",{fetchCategories:"fetchWebsiteCategories"}),getProductImage(t){if(!t.image)return"/placeholder-image.jpg";const o=t.image,d=`${M}/public/storage/`;if(o.startsWith(d))return o;if(o.startsWith(M)){const h=o.substring(M.length);return`${d}${h.startsWith("/")?h.substring(1):h}`}return o.startsWith("http")?o:`${d}${o}`},async loadCategories(){try{await this.fetchCategories(),await ee();const t=W(this.$refs.slider);t.hasClass("slick-initialized")&&t.slick("unslick"),t.slick({slidesToShow:7,slidesToScroll:1,rtl:this.$i18n.locale==="ar",responsive:[{breakpoint:1200,settings:{slidesToShow:5}},{breakpoint:992,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:576,settings:{slidesToShow:2}},{breakpoint:400,settings:{slidesToShow:1}}]})}catch(t){console.error("Failed to load categories:",t)}},scrollLeft(){const t=W(this.$refs.slider);t.length&&t.hasClass("slick-initialized")&&t.slick("slickPrev")},scrollRight(){const t=W(this.$refs.slider);t.length&&t.hasClass("slick-initialized")&&t.slick("slickNext")},getAlt(t){return this.$i18n.locale==="ar"?t.name_ar:t.name}},beforeUnmount(){const t=W(this.$refs.slider);t.length&&t.hasClass("slick-initialized")&&t.slick("unslick")}},le={class:"all-categories py-4"},de={class:"container"},ue={class:"title"},_e={class:"slider-wrapper"},he={class:"scrollers ms-3 mb-2"},ge={class:"slider",ref:"slider"},pe=["href"],fe={class:"category-content"},ve=["src"],me={key:0,class:"loading-overlay"},be={key:1,class:"error-message"};function ye(t,o,d,h,l,p){const $=b("fa");return c(),g("section",le,[e("div",de,[e("div",ue,[m($,{class:"fa-icon",icon:["fas","cubes"]}),e("h2",null,_(t.$t("home.categories")),1)]),e("div",_e,[e("div",he,[e("button",{class:"btn nav-button left",onClick:o[0]||(o[0]=(...u)=>p.scrollLeft&&p.scrollLeft(...u))},"←"),e("button",{class:"btn nav-button right",onClick:o[1]||(o[1]=(...u)=>p.scrollRight&&p.scrollRight(...u))},"→")]),e("div",ge,[(c(!0),g(U,null,N(t.categories,u=>(c(),g("a",{key:u.id,class:"card",href:`/category/${u.id}`},[e("div",fe,[e("img",{src:p.getProductImage(u)},null,8,ve),e("p",{class:z({rtl:t.$i18n.locale==="ar"})},_(t.$i18n.locale==="ar"?u.name_ar:u.name),3)])],8,pe))),128))],512),t.loading?(c(),g("div",me,o[2]||(o[2]=[e("div",{class:"loading-spinner"},null,-1)]))):y("",!0),t.error?(c(),g("div",be,_(t.error),1)):y("",!0)])])])}const $e=L(ce,[["render",ye],["__scopeId","data-v-9a4f0c77"]]);const we={name:"HomeBrands",data(){return{brands:[]}},created(){this.fetchBrands()},methods:{async fetchBrands(){try{const t=await x.get("https://backend.webenia.org/api/website/brands/section");this.brands=t.data.data}catch(t){console.error("Error fetching brands:",t)}},getImageUrl(t){return`https://backend.webenia.org/public/storage/${t}`},likeBrand(t){console.log(`Brand ${t} liked!`)}}},ke={class:"our-brands"},Se={class:"container"},Pe={class:"title mt-5"},Ce={class:"content"},xe=["src","alt"],Fe={key:1,class:"text-muted small"};function Ie(t,o,d,h,l,p){const $=b("fa"),u=b("router-link");return c(),g("section",ke,[e("div",Se,[e("div",Pe,[m($,{class:"fa-icon",icon:["fas","diagram-project"]}),e("h2",null,_(t.$t("home.brands")),1)]),e("div",Ce,[(c(!0),g(U,null,N(l.brands,w=>(c(),g("div",{key:w.id,class:"brand-img"},[m(u,{to:`/brand/${w.id}`,class:"text-decoration-none"},{default:I(()=>[w.images.length?(c(),g("img",{key:0,src:p.getImageUrl(w.images[0].path),alt:w.name_en,class:"img-fluid"},null,8,xe)):(c(),g("span",Fe,"No Image"))]),_:2},1032,["to"])]))),128))])])])}const Oe=L(we,[["render",Ie],["__scopeId","data-v-e9c8270b"]]);const Be={class:"products-section"},Ve={class:"container"},Te={class:"title section-header d-flex align-items-center mb-4"},Le={class:"mb-0"},Ee={key:0,class:"text-center my-4"},Ae={key:1},Ue={class:"row g-3"},Ne={class:"product-card card border-0 h-100"},We={class:"position-relative overflow-hidden bg-light"},je=["src","alt"],ze={key:0,class:"sale-badge"},De={class:"product-actions d-flex justify-content-center gap-2 w-100"},Me=["title"],qe={class:"card-body"},He={class:"card-title"},Re={class:"price-container"},Je={key:0,class:"discount-badge"},Ke={key:1,class:"price-old"},Ge={class:"card-text card-price"},Qe={class:"d-flex justify-content-center mt-4"},Xe={__name:"ProductSection",setup(t){const o=O([]),d=O([]),h=O(!1),l=q();H();const{locale:p,t:$}=R(),u=te(),w=r=>`https://backend.webenia.org/public/storage/${r}`,P=async()=>{try{const r=await x.get("https://backend.webenia.org/api/currencies");r.data.currencies&&(d.value=r.data.currencies)}catch(r){console.error("Error fetching currencies:",r)}},F=async()=>{try{const r=JSON.parse(localStorage.getItem("selectedCurrency"))||{code:"USD"},s=await x.get("https://backend.webenia.org/api/website/products/section",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,Currency:r.code}});s.data.status&&(o.value=s.data.data,await k())}catch(r){console.error("Error fetching products:",r),S({title:"Error",message:"Failed to load products.",type:"error"})}finally{h.value=!1}},k=async()=>{try{const r=await x.get("https://backend.webenia.org/api/favorites",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});r.data.status&&r.data.data&&l.setFavorites(r.data.data)}catch(r){console.error("Error fetching favorites:",r)}},C=r=>l.favorites.some(s=>s.product_id===r),B=r=>{if(r.discount&&r.discount.is_active){const s=parseFloat(r.discount.discount_value),a=parseFloat(r.converted_price||r.price);return(a-a*(s/100)).toFixed(2)}return r.converted_price||r.price},V=r=>{if(r.discount&&r.discount.is_active){const s=parseFloat(r.discount.discount_value);return Math.round(s)}return 0},n=()=>{u.push("/product-listing")};return J(async()=>{await P(),await F(),window.addEventListener("currency-changed",()=>{F()})}),(r,s)=>{const a=b("fa"),f=b("router-link");return c(),g("div",Be,[e("div",Ve,[e("div",Te,[m(a,{class:"fa-icon me-2",icon:["fas","shopping-basket"]}),e("h2",Le,_(r.$t("home.products")),1)]),h.value?(c(),g("div",Ee,"Loading products...")):(c(),g("div",Ae,[e("div",Ue,[(c(!0),g(U,null,N(o.value,i=>(c(),g("div",{key:i.id,class:"col-sm-6 col-md-4 col-lg-3"},[e("div",Ne,[e("div",We,[m(f,{to:`/read/products/${i.id}`},{default:I(()=>[i.images&&i.images.length?(c(),g("img",{key:0,src:w(i.images[0].path),alt:i.name_en,class:"card-img-top product-img"},null,8,je)):y("",!0)]),_:2},1032,["to"]),i.is_available?y("",!0):(c(),g("div",ze,_(r.$t("products.outOfStock")),1)),e("div",De,[e("button",{class:"btn btn-light rounded-circle shadow-sm",title:"View",onClick:n},[m(a,{icon:"eye"})]),e("button",{onClick:n,class:"btn btn-light shadow-sm disable"},_(r.$t("home.add-to-cart")),1),e("button",{onClick:n,class:"d-none btn rounded-circle shadow-sm btn-light enable"},[m(a,{icon:"shopping-cart"})]),e("button",{onClick:n,class:z(["btn rounded-circle shadow-sm btn-light",C(i.id)?"text-danger":""]),title:C(i.id)?"Remove from favorites":"Add to favorites"},[m(a,{icon:C(i.id)?"fas fa-heart":"far fa-heart"},null,8,["icon"])],10,Me)])]),e("div",qe,[e("h5",He,_(K(p)==="ar"?i.name_ar:i.name_en),1),e("div",Re,[i.discount&&i.discount.is_active?(c(),g("span",Je,_(V(i))+"% OFF ",1)):y("",!0),i.discount&&i.discount.is_active?(c(),g("span",Ke,_(i.converted_price)+" "+_(i.currency_code),1)):y("",!0),e("span",Ge,_(B(i))+" "+_(i.currency_code),1)])])])]))),128))]),e("div",Qe,[e("button",{class:"btn view-all-btn",onClick:n},_(r.$t("home.view-all-products")),1)])]))])])}}},Ye=L(Xe,[["__scopeId","data-v-4b97facb"]]);const Ze={class:"products-section"},et={class:"container"},tt={class:"title mt-5"},st={class:"row g-4"},ot={class:"card my-3 p-sm-4"},at={class:"img-container rounded position-relative"},it=["src","alt"],rt={key:0,class:"sale-badge"},nt={class:"body-container"},ct={class:"card-body"},lt={class:"card-title"},dt={class:"price-container"},ut={key:0,class:"discount-badge"},_t={key:1,class:"price-old"},ht={class:"card-text card-price"},gt={class:"product-actions d-flex justify-content-center flex-wrap gap-2"},pt=["disabled","onClick"],ft=["onClick","title"],vt={__name:"BestSelling",setup(t){const o=O([]),d=O(!1),h=O(""),l=q(),p=H(),{locale:$,t:u}=R();O([]),O({code:"USD"});const w=async()=>{try{const s=JSON.parse(localStorage.getItem("selectedCurrency"))||{code:"USD"},a=await x.get("https://backend.webenia.org/api/website/best-selling/products",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,Currency:s.code}});a.data.status&&a.data.data&&(o.value=a.data.data,await P())}catch(s){console.error("Error fetching products:",s),S({title:"Error",message:"Failed to load products.",type:"error"})}},P=async()=>{try{const s=await x.get("https://backend.webenia.org/api/favorites",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});s.data.status&&s.data.data&&l.setFavorites(s.data.data)}catch(s){console.error("Error fetching favorites:",s)}},F=s=>`https://backend.webenia.org/public/storage/${s}`,k=s=>l.favorites.some(a=>a.product_id===s),C=s=>{const a=l.favorites.find(f=>f.product_id===s);return a?a.favorite_id||a.id:null},B=async s=>{var a,f;try{if(k(s.id)){const i=C(s.id);i&&(await l.removeFromFavorites(i),S({title:u("success"),message:u("favorite_removed")||"Product removed from favorites",type:"success"}))}else{const i=await l.addToFavorites(s.id);S({title:u("success"),message:i.message||u("favorite_added")||"Product added to favorites",type:"success"})}}catch(i){console.error("Favorite error:",i),S({title:u("error"),message:((f=(a=i.response)==null?void 0:a.data)==null?void 0:f.message)||u("login_required_favorite")||"Login required to favorite product",type:"error"})}},V=async s=>{var a,f;try{let i=0;if(s.discount&&s.discount.is_active){const D=parseFloat(s.discount.discount_value),v=parseFloat(s.price);i=v-v*(D/100)}else i=parseFloat(s.price);const A=localStorage.getItem("user_id"),E=await x.post("https://backend.webenia.org/api/cart-items",{product_id:s.id,quantity:1,price:i,user_id:A},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});E.data.status?(S({title:u("success"),message:E.data.message,type:"success"}),p.incrementCount(),await p.fetchCartCount()):S({title:u("error"),message:E.data.message,type:"error"})}catch(i){console.error("Error adding to cart:",i),S({title:u("error"),message:(f=(a=i.response)==null?void 0:a.data)==null?void 0:f.message,type:"error"})}},n=s=>{if(s.discount&&s.discount.is_active){const a=parseFloat(s.discount.discount_value),f=parseFloat(s.converted_price||s.price);return(f-f*(a/100)).toFixed(2)}return(s.converted_price||s.price).toFixed(2)},r=s=>s.discount&&s.discount.is_active?Math.round(parseFloat(s.discount.discount_value)):0;return J(()=>{w(),window.addEventListener("currency-changed",()=>{w()})}),(s,a)=>{const f=b("fa"),i=b("router-link"),A=b("el-col"),E=b("el-button"),D=b("el-dialog");return c(),g("div",Ze,[e("div",et,[e("div",tt,[m(f,{class:"fa-icon",icon:["fas","star"]}),e("h2",null,_(s.$t("home.best-selling")),1)]),e("div",st,[(c(!0),g(U,null,N(o.value,v=>(c(),T(A,{key:v.id,xs:24,sm:24,md:12,lg:12},{default:I(()=>[e("div",ot,[e("div",at,[m(i,{to:`/read/products/${v.id}`},{default:I(()=>[v.images.length?(c(),g("img",{key:0,src:F(v.images[0].path),alt:v.name_en,class:"product-img card-img bg-light"},null,8,it)):y("",!0)]),_:2},1032,["to"]),v.is_available?y("",!0):(c(),g("div",rt,_(s.$t("products.outOfStock")),1))]),e("div",nt,[e("div",ct,[e("h5",lt,_(K($)==="ar"?v.name_ar:v.name_en),1),e("div",dt,[v.discount&&v.discount.is_active?(c(),g("span",ut,_(r(v))+"% OFF ",1)):y("",!0),v.discount&&v.discount.is_active?(c(),g("span",_t,_((v.converted_price||v.price).toFixed(2))+" "+_(v.currency_code),1)):y("",!0),e("span",ht,_(n(v))+" "+_(v.currency_code),1)])]),e("div",gt,[m(i,{to:`/read/products/${v.id}`,class:"btn btn-light rounded-circle shadow-sm",title:"View"},{default:I(()=>[m(f,{icon:"eye"})]),_:2},1032,["to"]),e("button",{disabled:!v.is_available,onClick:X=>V(v),class:"btn btn-light shadow-sm rounded-circle"},[m(f,{icon:"cart-plus"})],8,pt),e("button",{onClick:X=>B(v),class:z(["btn rounded-circle shadow-sm btn-light",k(v.id)?"text-danger":""]),title:k(v.id)?"Remove from favorites":"Add to favorites"},[m(f,{icon:k(v.id)?"fas fa-heart":"far fa-heart"},null,8,["icon"])],10,ft)])])])]),_:2},1024))),128))])]),m(D,{modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=v=>d.value=v),title:"🎉 Success",width:"30%","before-close":()=>d.value=!1,center:!0,"close-on-click-modal":!1,"show-close":!1},{footer:I(()=>[m(E,{type:"primary",onClick:a[0]||(a[0]=v=>d.value=!1)},{default:I(()=>a[2]||(a[2]=[j("OK")])),_:1,__:[2]})]),default:I(()=>[e("span",null,_(h.value),1)]),_:1},8,["modelValue","before-close"])])}}},mt=L(vt,[["__scopeId","data-v-394832bc"]]),bt="/assets/3-adbf781a.png",yt="/assets/2-1da5d603.png",$t="/assets/icon 1 -ced21c67.png",wt="/assets/4-b68b6467.png",kt="/assets/elegancewebsiteleft-524d19b0.png",St="/assets/elegancewebsiteright-4654db9e.png";const Pt={name:"WhyChooseUs",data(){return{}}},Ct={class:"why-choose-us"},xt={class:"container"},Ft={class:"title mt-5"},It={class:"row row-cols-xl-5 row-cols-lg-4 row-cols-md-3 row-cols-sm-2 row-cols-1 row--20 d-flex justify-content-around"},Ot={class:"col"},Bt={class:"service-box card"},Vt={class:"title"},Tt={class:"col"},Lt={class:"service-box card"},Et={class:"title"},At={class:"col"},Ut={class:"service-box card"},Nt={class:"title"},Wt={class:"col"},jt={class:"service-box card"},zt={class:"title"};function Dt(t,o,d,h,l,p){const $=b("fa");return c(),g(U,null,[e("section",Ct,[e("div",xt,[e("div",Ft,[m($,{class:"fa-icon",icon:["fas","shopping-basket"]}),e("h2",null,_(t.$t("home.why-us")),1)]),e("div",It,[e("div",Ot,[e("div",Bt,[o[0]||(o[0]=e("div",{class:"icon"},[e("img",{src:bt,class:"img-fluid",alt:"Service"})],-1)),e("h6",Vt,_(t.$t("home.why.fast_delivery")),1)])]),e("div",Tt,[e("div",Lt,[o[1]||(o[1]=e("div",{class:"icon"},[e("img",{src:yt,class:"img-fluid",alt:"Service"})],-1)),e("h6",Et,_(t.$t("home.why.guarantee")),1)])]),e("div",At,[e("div",Ut,[o[2]||(o[2]=e("div",{class:"icon"},[e("img",{src:$t,class:"img-fluid",alt:"Service"})],-1)),e("h6",Nt,_(t.$t("home.why.return_policy")),1)])]),e("div",Wt,[e("div",jt,[o[3]||(o[3]=e("div",{class:"icon"},[e("img",{src:wt,class:"img-fluid",alt:"Service"})],-1)),e("h6",zt,_(t.$t("home.why.pro_quality")),1)])])])])]),o[4]||(o[4]=Q('<div class="axil-poster mt-3" data-v-537f384d><div class="container" data-v-537f384d><div class="row" data-v-537f384d><div class="col-lg-6 mb--30" data-v-537f384d><div class="single-poster" data-v-537f384d><a data-v-537f384d><img src="'+kt+'" data-v-537f384d></a></div></div><div class="col-lg-6 mb--30" data-v-537f384d><div class="single-poster" data-v-537f384d><a data-v-537f384d><img src="'+St+'" data-v-537f384d></a></div></div></div></div></div>',1))],64)}const Mt=L(Pt,[["render",Dt],["__scopeId","data-v-537f384d"]]);const qt={class:"products-section py-5"},Ht={class:"container"},Rt={class:"title section-header d-flex align-items-center mb-4"},Jt={class:"mb-0"},Kt={class:"row justify-content-center g-4"},Gt={class:"product-card card h-100 w-100"},Qt={class:"img-container overflow-hidden bg-light m-2 rounded-circle"},Xt=["src","alt"],Yt={key:0,class:"sale-badge"},Zt={class:"card-body"},es={class:"card-title"},ts={class:"price-container"},ss={key:0,class:"discount-badge"},os={key:1,class:"price-old"},as={class:"card-text card-price"},is={class:"product-actions d-flex justify-content-center flex-wrap gap-2"},rs=["onClick","disabled"],ns=["onClick","title"],cs={__name:"LatestProducts",setup(t){const o=O([]);O(!1),O("");const d=q(),h=H(),{locale:l,t:p}=R(),$=async()=>{try{const n=JSON.parse(localStorage.getItem("selectedCurrency"))||{code:"USD"},r=await x.get("https://backend.webenia.org/api/website/latest/products",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,Currency:n.code}});r.data.status&&r.data.data&&(o.value=r.data.data,await u())}catch(n){console.error("Error fetching products:",n)}},u=async()=>{try{const n=await x.get("https://backend.webenia.org/api/favorites",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});n.data.status&&n.data.data&&d.setFavorites(n.data.data)}catch(n){console.error("Error fetching favorites:",n)}},w=n=>`https://backend.webenia.org/public/storage/${n}`,P=n=>d.favorites.some(r=>r.product_id===n),F=n=>{var r,s;return((r=d.favorites.find(a=>a.product_id===n))==null?void 0:r.favorite_id)||((s=d.favorites.find(a=>a.product_id===n))==null?void 0:s.id)},k=async n=>{var r,s;try{if(P(n.id)){const a=F(n.id);a&&(await d.removeFromFavorites(a),S({title:p("success"),message:p("favorite_removed")||"Product removed from favorites",type:"success"}))}else{const a=await d.addToFavorites(n.id);S({title:p("success"),message:a.message||p("favorite_added")||"Product added to favorites",type:"success"})}}catch(a){console.error("Favorite error:",a),S({title:p("error"),message:((s=(r=a.response)==null?void 0:r.data)==null?void 0:s.message)||p("login_required_favorite")||"Login required to favorite product",type:"error"})}},C=n=>{if(n.discount&&n.discount.is_active){const r=parseFloat(n.discount.discount_value),s=parseFloat(n.converted_price);return(s-s*(r/100)).toFixed(2)}return n.converted_price},B=async n=>{var r,s;try{let a=0;if(n.discount&&n.discount.is_active){const A=parseFloat(n.discount.discount_value),E=parseFloat(n.price);a=E-E*(A/100)}else a=parseFloat(n.price);const f={product_id:n.id,quantity:1,price:a};n.amounts&&n.amounts.length>0&&(f.amount_id=n.amounts[0].id);const i=await x.post("https://backend.webenia.org/api/cart-items",f,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json",Accept:"application/json"}});i.data.status?(S({title:p("success"),message:i.data.message,type:"success"}),h.incrementCount(),await h.fetchCartCount()):S({title:p("error"),message:i.data.message,type:"error"})}catch(a){console.error("Error adding to cart:",a),S({title:p("error"),message:(s=(r=a.response)==null?void 0:r.data)==null?void 0:s.message,type:"error"})}},V=n=>{if(n.discount&&n.discount.is_active){const r=parseFloat(n.discount.discount_value);return Math.round(r)}return 0};return J(()=>{$(),window.addEventListener("currency-changed",()=>{$()})}),(n,r)=>{const s=b("fa"),a=b("router-link"),f=b("el-col");return c(),g("div",qt,[e("div",Ht,[e("div",Rt,[m(s,{class:"fa-icon me-2",icon:["fas","shopping-basket"]}),e("h2",Jt,_(n.$t("LatestProducts.LatestProducts")),1)]),e("div",Kt,[(c(!0),g(U,null,N(o.value,i=>(c(),T(f,{key:i.id,xs:24,sm:12,md:8,lg:6,class:"d-flex justify-content-center"},{default:I(()=>[e("div",Gt,[e("div",Qt,[m(a,{to:`/read/products/${i.id}`},{default:I(()=>[i.images.length?(c(),g("img",{key:0,src:w(i.images[0].path),alt:i.name_en,class:"product-img card-img-top"},null,8,Xt)):y("",!0)]),_:2},1032,["to"]),i.is_available?y("",!0):(c(),g("div",Yt,_(n.$t("products.outOfStock")),1))]),e("div",Zt,[e("h5",es,_(K(l)==="ar"?i.name_ar:i.name_en),1),e("div",ts,[i.discount&&i.discount.is_active?(c(),g("span",ss,_(V(i))+"% OFF ",1)):y("",!0),i.discount&&i.discount.is_active?(c(),g("span",os,_(i.converted_price)+" "+_(i.currency_code),1)):y("",!0),e("span",as,_(C(i))+" "+_(i.currency_code),1)]),e("div",is,[m(a,{to:`/read/products/${i.id}`,class:"btn btn-light rounded-circle shadow-sm",title:"View"},{default:I(()=>[m(s,{icon:"eye"})]),_:2},1032,["to"]),e("button",{onClick:A=>B(i),disabled:!i.is_available,class:"btn btn-light shadow-sm"},_(n.$t("home.add-to-cart")),9,rs),e("button",{onClick:A=>k(i),class:z(["btn rounded-circle shadow-sm btn-light",P(i.id)?"text-danger":""]),title:P(i.id)?"Remove from favorites":"Add to favorites"},[m(s,{icon:P(i.id)?"fas fa-heart":"far fa-heart"},null,8,["icon"])],10,ns)])])])]),_:2},1024))),128))])])])}}},ls=L(cs,[["__scopeId","data-v-c7d8661f"]]);const ds={name:"Loader"},us={class:"loader-svg-wrapper"};function _s(t,o,d,h,l,p){return c(),g("div",us,o[0]||(o[0]=[e("div",{class:"loader"},null,-1)]))}const hs=L(ds,[["render",_s],["__scopeId","data-v-417d877b"]]);const gs={name:"VerifyOtp",data(){return{success:"",error:"",showOtpInput:!0,otp:""}},methods:{async handleActiveNow(){this.success="",this.error="",await this.resendOtp(),this.showOtpInput=!0},async resendOtp(){var t,o,d;try{const h=localStorage.getItem("otp_email");if(!h){this.error="No email found. Please login again.";return}const l=await x.post("https://backend.webenia.org/api/resend-otp",{email:h});(t=l.data)!=null&&t.success?this.success=((o=l.data)==null?void 0:o.message)||"OTP resent successfully.":this.error=((d=l.data)==null?void 0:d.message)||"Failed to resend OTP."}catch(h){console.error(h),this.error="Something went wrong. Please try again."}},async verifyOtp(){var h,l,p,$,u,w,P,F,k,C,B,V,n,r,s;this.success="",this.error="",this.otpMessage="";const t=Array.isArray(this.otp)?this.otp.join(""):this.otp,o=t&&/^\d{4}$/.test(t);if(!t||!o){const a=((h=this.$t)==null?void 0:h.call(this,"otp.invalidLength"))||"Please enter a valid 4-digit code";this.otpMessage=a,(p=(l=this.$toast)==null?void 0:l.error)==null||p.call(l,a);return}const d=localStorage.getItem("otp_email");if(!d){const a=(($=this.$t)==null?void 0:$.call(this,"otp.emailMissing"))||"No email found. Please login again.";this.error=a,(w=(u=this.$toast)==null?void 0:u.error)==null||w.call(u,a);return}try{const a=await x.post("https://backend.webenia.org/api/client/verify-otp",{email:d,otp:t});if(a.data.status===!0){const f={...this.user,...a.data.data.user};localStorage.setItem("user",JSON.stringify(f)),localStorage.setItem("auth_token",a.data.data.token),this.success=((P=this.$t)==null?void 0:P.call(this,"otp.success"))||"OTP verified successfully!",this.otpMessage="",window.location.reload()}else{const f=a.data.message||((F=this.$t)==null?void 0:F.call(this,"otp.failed"))||"OTP verification failed.";this.otpMessage=f,(C=(k=this.$toast)==null?void 0:k.error)==null||C.call(k,f)}}catch(a){console.error("OTP verification error:",a);const f=((V=(B=a.response)==null?void 0:B.data)==null?void 0:V.message)||((n=this.$t)==null?void 0:n.call(this,"otp.error"))||"OTP verification failed";this.otpMessage=f,(s=(r=this.$toast)==null?void 0:r.error)==null||s.call(r,f)}}}},ps={class:"modal-overlay d-flex justify-content-center align-items-center"},fs={class:"cart-modal bg-white rounded-4 shadow p-4 position-relative"},vs={class:"cart-content overflow-auto d-flex align-items-center flex-column",style:{"max-height":"70vh"}},ms={class:"w-50 d-flex align-items-center flex-column text-center"},bs={key:0,class:"w-100 d-flex flex-column align-items-center mt-3"},ys={key:1,class:"success-message"},$s={key:2,class:"error-message"};function ws(t,o,d,h,l,p){const $=b("fa");return c(),g("div",ps,[e("div",fs,[o[6]||(o[6]=e("div",{class:"mb-4 d-flex justify-content-center align-items-center w-100 logo-container"},[e("img",{src:se,alt:"Logo"})],-1)),e("button",{class:"close-btn",onClick:o[0]||(o[0]=u=>t.$emit("close"))},"×"),e("div",vs,[e("div",ms,[o[4]||(o[4]=e("p",{class:"text-center mb-4"},"sorry to say",-1)),m($,{icon:"circle-exclamation",size:"xl",class:"icon mb-2"}),o[5]||(o[5]=e("h5",null,[j("Enter the "),e("span",null,"OTP"),j(" sent in the email to "),e("span",null,"active"),j(" your "),e("span",null,"account")],-1)),e("button",{type:"button",onClick:o[1]||(o[1]=(...u)=>p.handleActiveNow&&p.handleActiveNow(...u)),class:"login-btn btn my-4"},"active now")]),l.showOtpInput?(c(),g("div",bs,[oe(e("input",{"onUpdate:modelValue":o[2]||(o[2]=u=>l.otp=u),type:"text",maxlength:"6",placeholder:"Enter OTP",class:"form-control mb-2",style:{"max-width":"200px","text-align":"center"}},null,512),[[ae,l.otp]]),e("button",{type:"button",onClick:o[3]||(o[3]=(...u)=>p.verifyOtp&&p.verifyOtp(...u)),class:"btn btn-success mb-2"},"Verify OTP")])):y("",!0),l.success?(c(),g("div",ys,_(l.success),1)):y("",!0),l.error?(c(),g("div",$s,_(l.error),1)):y("",!0)])])])}const G=L(gs,[["render",ws]]),ks="/assets/slider1-d6efcb08.png",Ss="/assets/slider2-c32800b9.png",Ps="/assets/Slider3-24a08685.png";const Cs={name:"Home",components:{Header:ie,Categories:$e,HomeBrands:Oe,LatestProducts:ls,Products:Ye,BestSelling:mt,WhyChooseUs:Mt,Footer:re,Loader:hs,VerifyOtp:G,VerifyOtpPopup:G},computed:{showVerifyOtp(){return this.user&&!this.user.is_verified},direction(){return ne.global.locale==="ar"?"rtl":"ltr"}},data(){return{showBrand:!1,showOurProducts:!1,showLatestProducts:!1,showBestSelling:!1,loading:!0,user:null,token:null,showVerifyOtpPopup:!1}},mounted(){this.fetchSettings(),localStorage.getItem("showVerifyOtpPopup")==="true"&&(this.showVerifyOtpPopup=!0,localStorage.removeItem("showVerifyOtpPopup"))},methods:{async fetchSettings(){try{const d=(await(await fetch("https://backend.webenia.org/api/settings")).json()).data,h=l=>{const p=d.find($=>$.key===l);return p&&p.value==="1"};this.showBrand=h("show_brand"),this.showOurProducts=h("show_our_products"),this.showLatestProducts=h("show_latest_products"),this.showBestSelling=h("show_best_selling_products")}catch(t){console.error("Failed to fetch settings:",t)}finally{setTimeout(()=>{this.loading=!1},3e3)}},scrollLeft(){const t=window.innerWidth,d=this.$refs.slider.querySelector(".card").offsetWidth;t<=440?this.$refs.slider.scrollBy({left:-(d*2+26),behavior:"smooth"}):t<=768?this.$refs.slider.scrollBy({left:-(d*3+50),behavior:"smooth"}):t<=1200?this.$refs.slider.scrollBy({left:-(d*4+50),behavior:"smooth"}):this.$refs.slider.scrollBy({left:-(d*7+30),behavior:"smooth"})},scrollRight(){const t=window.innerWidth,d=this.$refs.slider.querySelector(".card").offsetWidth;t<=440?this.$refs.slider.scrollBy({left:d*2+26,behavior:"smooth"}):t<=768?this.$refs.slider.scrollBy({left:d*3+50,behavior:"smooth"}):t<=1200?this.$refs.slider.scrollBy({left:d*4+50,behavior:"smooth"}):this.$refs.slider.scrollBy({left:d*7+30,behavior:"smooth"})}},created(){const t=localStorage.getItem("auth_user"),o=localStorage.getItem("token");t&&(this.user=JSON.parse(t)),o&&(this.token=o)}},xs={class:"home"};function Fs(t,o,d,h,l,p){const $=b("Loader"),u=b("Header"),w=b("VerifyOtp"),P=b("verify-otp-popup"),F=b("Categories"),k=b("HomeBrands"),C=b("Products"),B=b("LatestProducts"),V=b("BestSelling"),n=b("WhyChooseUs"),r=b("Footer");return c(),g("div",xs,[l.loading?(c(),T($,{key:0})):y("",!0),m(u),p.showVerifyOtp?(c(),T(w,{key:1,user:l.user,token:l.token},null,8,["user","token"])):y("",!0),l.showVerifyOtpPopup?(c(),T(P,{key:2,onClose:o[0]||(o[0]=s=>l.showVerifyOtpPopup=!1)})):y("",!0),o[1]||(o[1]=Q('<section class="hero-section" data-v-24738b48><div id="carouselExample" class="carousel slide" data-v-24738b48><div class="carousel-inner" data-v-24738b48><div class="carousel-item active" data-v-24738b48><img src="'+ks+'" class="d-block w-100" alt="..." data-v-24738b48></div><div class="carousel-item" data-v-24738b48><img src="'+Ss+'" class="d-block w-100" alt="..." data-v-24738b48></div><div class="carousel-item" data-v-24738b48><img src="'+Ps+'" class="d-block w-100" alt="..." data-v-24738b48></div></div><button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev" data-v-24738b48><span class="carousel-control-prev-icon" aria-hidden="true" data-v-24738b48></span><span class="visually-hidden" data-v-24738b48>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next" data-v-24738b48><span class="carousel-control-next-icon" aria-hidden="true" data-v-24738b48></span><span class="visually-hidden" data-v-24738b48>Next</span></button></div></section>',1)),m(F),l.showBrand?(c(),T(k,{key:3})):y("",!0),l.showOurProducts?(c(),T(C,{key:4})):y("",!0),l.showLatestProducts?(c(),T(B,{key:5})):y("",!0),l.showBestSelling?(c(),T(V,{key:6})):y("",!0),m(n),m(r)])}const Bs=L(Cs,[["render",Fs],["__scopeId","data-v-24738b48"]]);export{Bs as default};
