import{_ as p,H as c,b as _,r as h,o as n,c as a,e as m,a as s,t as e,m as f,f as v,F as w}from"./index-c07172aa.js";const g={components:{Header:c},data(){return{loading:!0,error:null,user:{}}},methods:{formatDate(o){return o?new Date(o).toLocaleDateString():"N/A"},goToResetPassword(){this.$router.push({name:"ResetPassword",query:{email:this.user.email}})}},async created(){var o,l;try{const t=await _.get("api/me",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});this.user=t.data.data.user}catch(t){this.error=((l=(o=t.response)==null?void 0:o.data)==null?void 0:l.message)||"Failed to fetch profile"}finally{this.loading=!1}}},k={class:"profile-outer"},y={key:0,class:"profile-loading"},b={key:1,class:"profile-error"},N={key:2,class:"profile-card"},C={class:"profile-header"},P={class:"avatar"},B={class:"user-info"},H={class:"user-role"},D={class:"profile-details"},I={class:"detail-row"},R={class:"detail-row"},T={class:"detail-row"},V={key:0,class:"address-block"},A={class:"address-details"},F={class:"detail-row"},z={class:"detail-row"},S={class:"detail-row"},j={class:"detail-row"},q={class:"detail-row"},E={class:"detail-row"},L={class:"detail-row"};function M(o,l,t,U,r,i){const d=h("Header");return n(),a(w,null,[m(d),s("div",k,[r.loading?(n(),a("div",y,[l[1]||(l[1]=s("span",{class:"loader"},null,-1)),s("span",null,e(o.$t("profile.loading")),1)])):r.error?(n(),a("div",b,[s("span",null,e(r.error),1)])):(n(),a("div",N,[s("div",C,[s("div",P,[s("span",null,e(r.user.name?r.user.name.charAt(0).toUpperCase():"?"),1)]),s("div",B,[s("h1",null,e(r.user.name),1),s("span",H,e(r.user.role),1)]),s("button",{class:"reset-password-btn",onClick:l[0]||(l[0]=(...u)=>i.goToResetPassword&&i.goToResetPassword(...u))},[l[2]||(l[2]=s("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24"},[s("path",{d:"M12 15v2m0 0v2m0-2h2m-2 0H10m8-6a8 8 0 11-16 0 8 8 0 0116 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),f(" "+e(o.$t("profile.resetPassword")),1)])]),s("div",D,[s("div",I,[s("span",null,e(o.$t("profile.name")),1),s("span",null,e(r.user.name),1)]),s("div",R,[s("span",null,e(o.$t("profile.email")),1),s("span",null,e(r.user.email),1)]),s("div",T,[s("span",null,e(o.$t("profile.phone")),1),s("span",null,e(r.user.phone),1)]),r.user.address&&r.user.address.length?(n(),a("div",V,[s("h3",null,e(o.$t("profile.address")),1),s("div",A,[s("div",F,[s("span",null,e(o.$t("profile.buildingName")),1),s("span",null,e(r.user.address[0].building_name),1)]),s("div",z,[s("span",null,e(o.$t("profile.floorNumber")),1),s("span",null,e(r.user.address[0].floor_number),1)]),s("div",S,[s("span",null,e(o.$t("profile.apartmentNumber")),1),s("span",null,e(r.user.address[0].apartment_number),1)]),s("div",j,[s("span",null,e(o.$t("profile.postalCode")),1),s("span",null,e(r.user.address[0].postal_code),1)]),s("div",q,[s("span",null,e(o.$t("profile.landmark")),1),s("span",null,e(r.user.address[0].landmark),1)]),s("div",E,[s("span",null,e(o.$t("profile.cityId")),1),s("span",null,e(r.user.address[0].city_id),1)]),s("div",L,[s("span",null,e(o.$t("profile.countryId")),1),s("span",null,e(r.user.address[0].country_id),1)])])])):v("",!0)])]))])],64)}const J=p(g,[["render",M],["__scopeId","data-v-48058253"]]);export{J as default};
