import{_,b as h,r as w,o as g,c as f,a as s,t as e,w as b,g as m,i as v,k as U,e as p,l as u,m as l}from"./index-23e6863a.js";import{_ as j}from"./perfume-banner-e9b7c37b.js";const k={name:"JoinUs",data(){return{formData:{email:"",password:""},showPassword:!1}},methods:{async handleSubmit(){var o,t;try{const a=await h.post("http://elegance_backend.test/api/client/login",this.formData);if(a.data.status){const n=a.data.data;localStorage.setItem("auth_token",n.token),localStorage.setItem("auth_user",JSON.stringify(n.user)),this.$store.commit("auth/SET_AUTH",n),await this.$store.dispatch("cart/loadCart"),this.$router.push("/")}else console.error("Login failed: ",a.data.message)}catch(a){console.error("Login failed:",((t=(o=a.response)==null?void 0:o.data)==null?void 0:t.message)||a.message)}},togglePassword(){this.showPassword=!this.showPassword}}},y={class:"join-us-container"},P={class:"join-us-content"},D={class:"form-header"},S={class:"elegant-title"},$={class:"elegant-description"},V={class:"form-group"},C={for:"email"},L={class:"form-group"},M={for:"password"},N={class:"password-input-container"},T=["type"],A={class:"form-links"},B={type:"submit",class:"submit-btn"},E={class:"register-section"};function I(o,t,a,n,r,d){const c=w("router-link");return g(),f("div",y,[t[4]||(t[4]=s("div",{class:"banner-section"},[s("img",{src:j,alt:"Elegance Perfume",class:"banner-image"})],-1)),s("div",P,[s("div",D,[s("h1",S,e(o.$t("joinUs.title")),1),s("p",$,e(o.$t("joinUs.description")),1)]),s("form",{onSubmit:t[3]||(t[3]=b((...i)=>d.handleSubmit&&d.handleSubmit(...i),["prevent"])),class:"join-form"},[s("div",V,[s("label",C,e(o.$t("joinUs.email")),1),m(s("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=i=>r.formData.email=i),required:""},null,512),[[v,r.formData.email]])]),s("div",L,[s("label",M,e(o.$t("joinUs.password")),1),s("div",N,[m(s("input",{type:r.showPassword?"text":"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=i=>r.formData.password=i),required:""},null,8,T),[[U,r.formData.password]]),s("button",{type:"button",class:"show-password-btn",onClick:t[2]||(t[2]=(...i)=>d.togglePassword&&d.togglePassword(...i))},e(r.showPassword?o.$t("joinUs.hidePassword"):o.$t("joinUs.showPassword")),1)])]),s("div",A,[p(c,{to:"/forgot-password",class:"link"},{default:u(()=>[l(e(o.$t("joinUs.forgotPassword")),1)]),_:1})]),s("button",B,e(o.$t("joinUs.login")),1),s("div",E,[s("p",null,[l(e(o.$t("joinUs.notMember"))+" ",1),p(c,{to:"/register",class:"link"},{default:u(()=>[l(e(o.$t("joinUs.registerHere")),1)]),_:1})])])],32)])])}const J=_(k,[["render",I],["__scopeId","data-v-20d30817"]]);export{J as default};
